{
  "_format": "hh3-artifact-1",
  "contractName": "FidelityPoints",
  "sourceName": "contracts/FidelityPoints.sol",
  "abi": [
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_pointValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "constructor"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "available",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "required",
          "type": "uint256"
        }
      ],
      "name": "InsufficientPoints",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidPointValue",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "NotFound",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "UnauthorizedSpender",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "oldValue",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "newValue",
          "type": "uint256"
        }
      ],
      "name": "PointValueChanged",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "points",
          "type": "uint256"
        }
      ],
      "name": "PointsAdded",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "points",
          "type": "uint256"
        }
      ],
      "name": "PointsSpent",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "spender",
          "type": "address"
        }
      ],
      "name": "SpenderAuthorized",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "address",
          "name": "spender",
          "type": "address"
        }
      ],
      "name": "SpenderRevoked",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_points",
          "type": "uint256"
        }
      ],
      "name": "addPoints",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "admin",
      "outputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "spender",
          "type": "address"
        }
      ],
      "name": "authorizeSpender",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "authorizedSpenders",
      "outputs": [
        {
          "internalType": "bool",
          "name": "",
          "type": "bool"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "requiredValue",
          "type": "uint256"
        }
      ],
      "name": "canAfford",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "requiredPoints",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        }
      ],
      "name": "getBalance",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        }
      ],
      "name": "getClientStats",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "currentPoints",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalEarned",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalSpent",
          "type": "uint256"
        },
        {
          "internalType": "uint256",
          "name": "totalValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "getTotalPoints",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        }
      ],
      "name": "getTotalValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "totalValue",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "lifetimePointsEarned",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "lifetimePointsSpent",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "nbCalls",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "pointValue",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "",
          "type": "address"
        }
      ],
      "name": "points",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "spender",
          "type": "address"
        }
      ],
      "name": "revokeSpender",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_pointValue",
          "type": "uint256"
        }
      ],
      "name": "setPointValue",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "_points",
          "type": "uint256"
        }
      ],
      "name": "spendPoints",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "client",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "_points",
          "type": "uint256"
        }
      ],
      "name": "spendPointsFrom",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600e575f5ffd5b50604051610b1c380380610b1c833981016040819052602b916063565b805f03604a5760405163f5aab1a160e01b815260040160405180910390fd5b600180546001600160a01b031916331790556003556079565b5f602082840312156072575f5ffd5b5051919050565b610a96806100865f395ff3fe608060405234801561000f575f5ffd5b5060043610610111575f3560e01c80639f6c6bf51161009e578063d2b11b1f1161006e578063d2b11b1f1461026b578063d46e0b091461027e578063dbb9790914610291578063f851a44014610299578063f8b2cb4f146102c4575f5ffd5b80639f6c6bf5146101fe578063ae76cf2a14610207578063cb1c6dfd1461021a578063d2454e8d14610239575f5ffd5b8063358b8166116100e4578063358b8166146101875780633dfebdc1146101a6578063507cd30f146101c557806368637549146101d8578063920554b0146101eb575f5ffd5b80631207c03b146101155780631439391d1461014d5780632b353fbe14610162578063326bfcc114610175575b5f5ffd5b61012861012336600461091f565b6102ec565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b61016061015b36600461093f565b61032c565b005b61016061017036600461091f565b6103c4565b6004545b604051908152602001610144565b61017961019536600461091f565b60056020525f908152604090205481565b6101796101b436600461091f565b60076020525f908152604090205481565b6101606101d3366004610956565b610439565b6101796101e636600461091f565b6104e2565b6101606101f9366004610956565b61050e565b61017960035481565b61016061021536600461091f565b610657565b61017961022836600461091f565b60066020525f908152604090205481565b61025b61024736600461091f565b60026020525f908152604090205460ff1681565b6040519015158152602001610144565b610179610279366004610956565b6106c9565b61016061028c36600461093f565b6107e9565b6101795f5481565b6001546102ac906001600160a01b031681565b6040516001600160a01b039091168152602001610144565b6101796102d236600461091f565b6001600160a01b03165f9081526005602052604090205490565b6001600160a01b0381165f9081526005602090815260408083205460068352818420546007909352908320549092610323856104e2565b90509193509193565b6001546001600160a01b0316331461035f5760405162461bcd60e51b81526004016103569061097e565b60405180910390fd5b805f0361037f5760405163f5aab1a160e01b815260040160405180910390fd5b600380549082905560408051828152602081018490527f5f46fa44536e5883ae3acf13df7faea831dde772e13015a7fc9d1831ff5de1c1910160405180910390a15050565b6001546001600160a01b031633146103ee5760405162461bcd60e51b81526004016103569061097e565b6001600160a01b0381165f81815260026020526040808220805460ff19166001179055517f056a33a56b1841995742577bb460d5ab4ffe65bb1d6106a329fdc532ae9a26889190a250565b6001600160a01b0382165f90815260056020526040812080548392906104609084906109d3565b90915550506001600160a01b0382165f908152600660205260408120805483929061048c9084906109d3565b9091555061049b9050816108be565b816001600160a01b03167f0fe6fcb45adaaa54f7e3491f6a7964049817f1e437f33587e634a4629fbcf3a6826040516104d691815260200190565b60405180910390a25050565b6003546001600160a01b0382165f908152600560205260408120549091610508916109e6565b92915050565b6001546001600160a01b031633148015906105385750335f9081526002602052604090205460ff16155b15610556576040516320494fd960e01b815260040160405180910390fd5b6001600160a01b0382165f908152600560205260409020548111156105b2576001600160a01b0382165f9081526005602052604090819020549051638059c74760e01b8152600481019190915260248101829052604401610356565b6001600160a01b0382165f90815260056020526040812080548392906105d99084906109fd565b90915550506001600160a01b0382165f90815260076020526040812080548392906106059084906109d3565b9091555061061c905061061782610a10565b6108be565b816001600160a01b03167fe468e4bd9f7603e9acc4484edbd2aa85bc8f378431137b6b9eccb46ef9c4da49826040516104d691815260200190565b6001546001600160a01b031633146106815760405162461bcd60e51b81526004016103569061097e565b6001600160a01b0381165f81815260026020526040808220805460ff19169055517f124b4488f16f954d5626769cbcab59a035cff89968908f4bbb90c264efcc9b839190a250565b5f60015f5f8282546106db91906109d3565b90915550506001600160a01b0383165f9081526005602052604081205490036107175760405163c5723b5160e01b815260040160405180910390fd5b600354600161072682856109d3565b61073091906109fd565b61073a9190610a2a565b604051636863754960e01b81526001600160a01b038516600482015290915082903090636863754990602401602060405180830381865afa158015610781573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107a59190610a49565b10156105085760405162461bcd60e51b8152602060048201526013602482015272496e73756666696369656e742046756e64732160681b6044820152606401610356565b335f9081526005602052604090205481111561083357335f9081526005602052604090819020549051638059c74760e01b8152600481019190915260248101829052604401610356565b335f90815260056020526040812080548392906108519084906109fd565b9091555050335f90815260076020526040812080548392906108749084906109d3565b90915550610886905061061782610a10565b60405181815233907fe468e4bd9f7603e9acc4484edbd2aa85bc8f378431137b6b9eccb46ef9c4da499060200160405180910390a250565b5f8113156108e2578060045f8282546108d791906109d3565b909155506109019050565b6108eb81610a10565b60045f8282546108fb91906109fd565b90915550505b50565b80356001600160a01b038116811461091a575f5ffd5b919050565b5f6020828403121561092f575f5ffd5b61093882610904565b9392505050565b5f6020828403121561094f575f5ffd5b5035919050565b5f5f60408385031215610967575f5ffd5b61097083610904565b946020939093013593505050565b60208082526021908201527f4f6e6c792061646d696e2063616e2063616c6c20746869732066756e6374696f6040820152603760f91b606082015260800190565b634e487b7160e01b5f52601160045260245ffd5b80820180821115610508576105086109bf565b8082028115828204841417610508576105086109bf565b81810381811115610508576105086109bf565b5f600160ff1b8201610a2457610a246109bf565b505f0390565b5f82610a4457634e487b7160e01b5f52601260045260245ffd5b500490565b5f60208284031215610a59575f5ffd5b505191905056fea26469706673582212203355e23944c23fcf3a3bd16d6d66a3ec7257397e3079bdc46f923455367af01764736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561000f575f5ffd5b5060043610610111575f3560e01c80639f6c6bf51161009e578063d2b11b1f1161006e578063d2b11b1f1461026b578063d46e0b091461027e578063dbb9790914610291578063f851a44014610299578063f8b2cb4f146102c4575f5ffd5b80639f6c6bf5146101fe578063ae76cf2a14610207578063cb1c6dfd1461021a578063d2454e8d14610239575f5ffd5b8063358b8166116100e4578063358b8166146101875780633dfebdc1146101a6578063507cd30f146101c557806368637549146101d8578063920554b0146101eb575f5ffd5b80631207c03b146101155780631439391d1461014d5780632b353fbe14610162578063326bfcc114610175575b5f5ffd5b61012861012336600461091f565b6102ec565b6040805194855260208501939093529183015260608201526080015b60405180910390f35b61016061015b36600461093f565b61032c565b005b61016061017036600461091f565b6103c4565b6004545b604051908152602001610144565b61017961019536600461091f565b60056020525f908152604090205481565b6101796101b436600461091f565b60076020525f908152604090205481565b6101606101d3366004610956565b610439565b6101796101e636600461091f565b6104e2565b6101606101f9366004610956565b61050e565b61017960035481565b61016061021536600461091f565b610657565b61017961022836600461091f565b60066020525f908152604090205481565b61025b61024736600461091f565b60026020525f908152604090205460ff1681565b6040519015158152602001610144565b610179610279366004610956565b6106c9565b61016061028c36600461093f565b6107e9565b6101795f5481565b6001546102ac906001600160a01b031681565b6040516001600160a01b039091168152602001610144565b6101796102d236600461091f565b6001600160a01b03165f9081526005602052604090205490565b6001600160a01b0381165f9081526005602090815260408083205460068352818420546007909352908320549092610323856104e2565b90509193509193565b6001546001600160a01b0316331461035f5760405162461bcd60e51b81526004016103569061097e565b60405180910390fd5b805f0361037f5760405163f5aab1a160e01b815260040160405180910390fd5b600380549082905560408051828152602081018490527f5f46fa44536e5883ae3acf13df7faea831dde772e13015a7fc9d1831ff5de1c1910160405180910390a15050565b6001546001600160a01b031633146103ee5760405162461bcd60e51b81526004016103569061097e565b6001600160a01b0381165f81815260026020526040808220805460ff19166001179055517f056a33a56b1841995742577bb460d5ab4ffe65bb1d6106a329fdc532ae9a26889190a250565b6001600160a01b0382165f90815260056020526040812080548392906104609084906109d3565b90915550506001600160a01b0382165f908152600660205260408120805483929061048c9084906109d3565b9091555061049b9050816108be565b816001600160a01b03167f0fe6fcb45adaaa54f7e3491f6a7964049817f1e437f33587e634a4629fbcf3a6826040516104d691815260200190565b60405180910390a25050565b6003546001600160a01b0382165f908152600560205260408120549091610508916109e6565b92915050565b6001546001600160a01b031633148015906105385750335f9081526002602052604090205460ff16155b15610556576040516320494fd960e01b815260040160405180910390fd5b6001600160a01b0382165f908152600560205260409020548111156105b2576001600160a01b0382165f9081526005602052604090819020549051638059c74760e01b8152600481019190915260248101829052604401610356565b6001600160a01b0382165f90815260056020526040812080548392906105d99084906109fd565b90915550506001600160a01b0382165f90815260076020526040812080548392906106059084906109d3565b9091555061061c905061061782610a10565b6108be565b816001600160a01b03167fe468e4bd9f7603e9acc4484edbd2aa85bc8f378431137b6b9eccb46ef9c4da49826040516104d691815260200190565b6001546001600160a01b031633146106815760405162461bcd60e51b81526004016103569061097e565b6001600160a01b0381165f81815260026020526040808220805460ff19169055517f124b4488f16f954d5626769cbcab59a035cff89968908f4bbb90c264efcc9b839190a250565b5f60015f5f8282546106db91906109d3565b90915550506001600160a01b0383165f9081526005602052604081205490036107175760405163c5723b5160e01b815260040160405180910390fd5b600354600161072682856109d3565b61073091906109fd565b61073a9190610a2a565b604051636863754960e01b81526001600160a01b038516600482015290915082903090636863754990602401602060405180830381865afa158015610781573d5f5f3e3d5ffd5b505050506040513d601f19601f820116820180604052508101906107a59190610a49565b10156105085760405162461bcd60e51b8152602060048201526013602482015272496e73756666696369656e742046756e64732160681b6044820152606401610356565b335f9081526005602052604090205481111561083357335f9081526005602052604090819020549051638059c74760e01b8152600481019190915260248101829052604401610356565b335f90815260056020526040812080548392906108519084906109fd565b9091555050335f90815260076020526040812080548392906108749084906109d3565b90915550610886905061061782610a10565b60405181815233907fe468e4bd9f7603e9acc4484edbd2aa85bc8f378431137b6b9eccb46ef9c4da499060200160405180910390a250565b5f8113156108e2578060045f8282546108d791906109d3565b909155506109019050565b6108eb81610a10565b60045f8282546108fb91906109fd565b90915550505b50565b80356001600160a01b038116811461091a575f5ffd5b919050565b5f6020828403121561092f575f5ffd5b61093882610904565b9392505050565b5f6020828403121561094f575f5ffd5b5035919050565b5f5f60408385031215610967575f5ffd5b61097083610904565b946020939093013593505050565b60208082526021908201527f4f6e6c792061646d696e2063616e2063616c6c20746869732066756e6374696f6040820152603760f91b606082015260800190565b634e487b7160e01b5f52601160045260245ffd5b80820180821115610508576105086109bf565b8082028115828204841417610508576105086109bf565b81810381811115610508576105086109bf565b5f600160ff1b8201610a2457610a246109bf565b505f0390565b5f82610a4457634e487b7160e01b5f52601260045260245ffd5b500490565b5f60208284031215610a59575f5ffd5b505191905056fea26469706673582212203355e23944c23fcf3a3bd16d6d66a3ec7257397e3079bdc46f923455367af01764736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {},
  "immutableReferences": {},
  "inputSourceName": "project/contracts/FidelityPoints.sol",
  "buildInfoId": "solc-0_8_28-e24fe95e1cc6d029e2c6ad9a0c884cb88e0a6175"
}